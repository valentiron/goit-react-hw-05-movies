{"version":3,"file":"static/js/65.38d92b9a.chunk.js","mappings":"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","sources":["api/api.js","components/ButtonBack/ButtonBack.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoviesDetails/MovieDetails.module.css?1850","pages/MoviesDetails/MoviesDetails.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '0021cd5d6cc61e1e538bcb0b8bcd461c';\n\n// export function getMoviesInfo(typeQuery, movieId, searchQuery) {\n//   let options;\n//   let queryVariants = '';\n\n//   switch (typeQuery) {\n//     case 'search':\n//       options = `search/movie`;\n//       queryVariants = `&query=${searchQuery}`;\n//       break;\n\n//     case 'details':\n//       options = `/movie/${movieId}`;\n//       break;\n\n//     case 'cast':\n//       options = `/movie/${movieId}/credits`;\n//       break;\n\n//     case 'reviews':\n//       options = `/movie/${movieId}/reviews`;\n\n//     case 'trend':\n//       options = `trending/all/day`;\n\n//     default:\n//       console.log('Not valid type of query');\n//   }\n\n//   return fetch(`${BASE_URL}${options}?api_key=${API_KEY}${queryVariants}`).then(res => res.json());\n// }\n\n\nexport function getTrendingMovies() {\n    return fetch(`${BASE_URL}trending/all/day?api_key=${API_KEY}`)\n      .then(res => res.json());\n  };\n  \n  export function getSearchMovies(searchQuery) {\n    return fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&query=${searchQuery}`)\n      .then(res => res.json());\n  };\n  \n  export function getMovieDetails(movieId) {\n    return fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`)\n      .then(res => res.json());\n  };\n  \n  export function getMovieDetailsCast(movieId) {\n    return fetch(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`)\n      .then(res => res.json());\n  };\n  \n  export function getMovieDetailsReviews(movieId) {\n    return fetch(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`)\n      .then(res => res.json());\n  };\n","import { Link, useLocation } from \"react-router-dom\";\n\nexport const ButtonBack = () => {\n    const location = useLocation();\n    const backLinkHref = location.state?.from ?? '/movies';\n\n    return (\n        <div>\n            <Link to={backLinkHref}>\n                Go back\n            </Link>\n        </div>\n    )\n};","// extracted by mini-css-extract-plugin\nexport default {\"details\":\"MovieDetails_details__5eAVR\",\"img\":\"MovieDetails_img__X1wJS\",\"description\":\"MovieDetails_description__yVykP\",\"info\":\"MovieDetails_info__19boC\",\"nav\":\"MovieDetails_nav__2H7Xe\",\"navLink\":\"MovieDetails_navLink__qNvfI\",\"navLinK\":\"MovieDetails_navLinK__1p2Sf\"};","import { useState, useEffect, Suspense } from 'react';\nimport { useParams, NavLink, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from '../../api/api';\nimport { ButtonBack } from '../../components/ButtonBack/ButtonBack';\nimport css from './MovieDetails.module.css'\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, isMovieDetail] = useState(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    getMovieDetails(movieId)\n      .then(res => {\n        if (res.status !== 'Released') {\n          console.log(res.status_message);\n          return;\n        }\n\n        isMovieDetail(res);\n      })\n      .catch(error => console.log(error));\n  }, [movieId]);\n\n  if (!movieDetails) {\n    return;\n  }\n\n  const {\n    name,\n    title,\n    release_date,\n    overview,\n    genres,\n    poster_path,\n    vote_average,\n  } = movieDetails;\n  const releaseYaer = new Date(release_date);\n  let poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n\n  if (!poster_path) {\n    poster =\n      'https://img.freepik.com/free-vector/neon-style-coming-soon-background_1017-33735.jpg';\n  }\n\n  const backLinkHref = location.state?.from ?? '/movies';\n\n  return (\n    <>\n      <section>\n        <ButtonBack />\n        <div className={css.details}>\n          <img className={css.img} src={poster} alt={title || name} width=\"240\" height=\"320\" />\n          <div className={css.description}>\n            <h2>\n              {title || name} ({releaseYaer.getFullYear()})\n            </h2>\n            <p>User score: {Math.round(vote_average * 10)} %</p>\n            <h3>Overview</h3>\n            <p>{overview}</p>\n            <h4>Genres</h4>\n            <p>\n              {genres &&\n                genres.length > 0 &&\n                genres.map(genr => genr.name).join(', ')}\n            </p>\n          </div>\n        </div>\n      </section>\n      <section className={css.info}>\n        <p>Addination information</p>\n        <ul className={css.nav}>\n          <li>\n            <NavLink className={css.navLink} to=\"cast\" state={{ from: backLinkHref }}>\n              Cast\n            </NavLink>\n          </li>\n          <li>\n            <NavLink className={css.navLink}to=\"reviews\" state={{ from: backLinkHref }}>\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </section>\n      <Suspense fallback={<div>Loading...</div>}>\n        <section>\n          <Outlet />\n        </section>\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["BASE_URL","API_KEY","getTrendingMovies","fetch","then","res","json","getSearchMovies","searchQuery","getMovieDetails","movieId","getMovieDetailsCast","getMovieDetailsReviews","ButtonBack","backLinkHref","useLocation","state","from","to","useParams","useState","movieDetails","isMovieDetail","location","useEffect","status","console","log","status_message","catch","error","name","title","release_date","overview","genres","poster_path","vote_average","releaseYaer","Date","poster","className","css","src","alt","width","height","getFullYear","Math","round","length","map","genr","join","Suspense","fallback"],"sourceRoot":""}